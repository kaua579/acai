-- MySQL Script generated by MySQL Workbench
-- qui 06 nov 2025 08:27:49
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema acai
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema acai
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `acai` ;
USE `acai` ;

-- -----------------------------------------------------
-- Table `acai`.`tb_usuario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acai`.`tb_usuario` (
  `idusuario` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(100) NOT NULL,
  `email` VARCHAR(100) NOT NULL,
  `senha` VARCHAR(80) NOT NULL,
  `tipo` VARCHAR(1) NULL,
  PRIMARY KEY (`idusuario`),
  UNIQUE INDEX `email_UNIQUE` (`email` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `acai`.`tb_cliente`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acai`.`tb_cliente` (
  `idcliente` INT NOT NULL AUTO_INCREMENT,
  `cpf` VARCHAR(14) NOT NULL,
  `endereco` VARCHAR(80) NOT NULL,
  `pontos` INT NULL,
  `tb_usuario_idusuario` INT NOT NULL,
  PRIMARY KEY (`idcliente`),
  INDEX `fk_tb_cliente_tb_usuario1_idx` (`tb_usuario_idusuario` ASC) VISIBLE,
  CONSTRAINT `fk_tb_cliente_tb_usuario1`
    FOREIGN KEY (`tb_usuario_idusuario`)
    REFERENCES `acai`.`tb_usuario` (`idusuario`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `acai`.`tb_produto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acai`.`tb_produto` (
  `idproduto` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(50) NOT NULL,
  `tamanho` VARCHAR(100) NOT NULL,
  `preco` DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (`idproduto`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `acai`.`tb_atendente`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acai`.`tb_atendente` (
  `idatendente` INT NOT NULL AUTO_INCREMENT,
  `idade` VARCHAR(3) NOT NULL,
  `horario_chegada` TIME NOT NULL,
  `horario_saida` TIME NOT NULL,
  `descricao` VARCHAR(400) NOT NULL,
  `tb_usuario_idusuario` INT NOT NULL,
  PRIMARY KEY (`idatendente`),
  UNIQUE INDEX `idatentende_UNIQUE` (`idatendente` ASC) VISIBLE,
  INDEX `fk_tb_atendente_tb_usuario1_idx` (`tb_usuario_idusuario` ASC) VISIBLE,
  CONSTRAINT `fk_tb_atendente_tb_usuario1`
    FOREIGN KEY (`tb_usuario_idusuario`)
    REFERENCES `acai`.`tb_usuario` (`idusuario`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `acai`.`tb_endereco`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acai`.`tb_endereco` (
  `idendereco` INT NOT NULL AUTO_INCREMENT,
  `endereco` VARCHAR(200) NULL,
  `bairro` VARCHAR(150) NULL,
  `cidade` VARCHAR(45) NULL,
  `tb_cliente_idcliente` INT NOT NULL,
  PRIMARY KEY (`idendereco`),
  INDEX `fk_tb_endereco_tb_cliente1_idx` (`tb_cliente_idcliente` ASC) VISIBLE,
  CONSTRAINT `fk_tb_endereco_tb_cliente1`
    FOREIGN KEY (`tb_cliente_idcliente`)
    REFERENCES `acai`.`tb_cliente` (`idcliente`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `acai`.`tb_pedido`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acai`.`tb_pedido` (
  `idpedido` INT NOT NULL AUTO_INCREMENT,
  `observacao` VARCHAR(200) NOT NULL,
  `horario_inicio` TIME NOT NULL,
  `horario_final` TIME NOT NULL,
  `status` VARCHAR(45) NOT NULL,
  `valor_p` DECIMAL(10,2) NOT NULL,
  `taxa_entrega` INT NOT NULL,
  `data` TIMESTAMP NULL,
  `nota_atendente` DECIMAL(2,1) NULL,
  `tb_endereco_idendereco` INT NOT NULL,
  `tb_atendente_idatendente` INT NOT NULL,
  `tb_cliente_idcliente` INT NOT NULL,
  PRIMARY KEY (`idpedido`),
  UNIQUE INDEX `idpedido_UNIQUE` (`idpedido` ASC) VISIBLE,
  INDEX `fk_tb_pedido_tb_cliente_idx` (`tb_cliente_idcliente` ASC) VISIBLE,
  INDEX `fk_tb_pedido_tb_atentende1_idx` (`tb_atendente_idatendente` ASC) VISIBLE,
  INDEX `fk_tb_pedido_tb_endereco1_idx` (`tb_endereco_idendereco` ASC) VISIBLE,
  CONSTRAINT `fk_tb_pedido_tb_cliente`
    FOREIGN KEY (`tb_cliente_idcliente`)
    REFERENCES `acai`.`tb_cliente` (`idcliente`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tb_pedido_tb_atentende1`
    FOREIGN KEY (`tb_atendente_idatendente`)
    REFERENCES `acai`.`tb_atendente` (`idatendente`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tb_pedido_tb_endereco1`
    FOREIGN KEY (`tb_endereco_idendereco`)
    REFERENCES `acai`.`tb_endereco` (`idendereco`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `acai`.`tb_pagamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acai`.`tb_pagamento` (
  `idpagamento` INT NOT NULL AUTO_INCREMENT,
  `forma_p` VARCHAR(100) NOT NULL,
  `data_pagamento` DATE NOT NULL,
  `valor_total` DECIMAL(15) NOT NULL,
  `tb_pedido_idpedido` INT NOT NULL,
  PRIMARY KEY (`idpagamento`),
  UNIQUE INDEX `idpagamento_UNIQUE` (`idpagamento` ASC) VISIBLE,
  INDEX `fk_tb_pagamento_tb_pedido1_idx` (`tb_pedido_idpedido` ASC) VISIBLE,
  CONSTRAINT `fk_tb_pagamento_tb_pedido1`
    FOREIGN KEY (`tb_pedido_idpedido`)
    REFERENCES `acai`.`tb_pedido` (`idpedido`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `acai`.`tb_entrega`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acai`.`tb_entrega` (
  `identrega` INT NOT NULL AUTO_INCREMENT,
  `data_entrega` DATE NOT NULL,
  `horario_entrega` TIME NOT NULL,
  `localizacao` VARCHAR(200) NOT NULL,
  `nota_entrega` DECIMAL(2,1) NULL,
  `tb_pedido_idpedido` INT NOT NULL,
  PRIMARY KEY (`identrega`),
  INDEX `fk_tb_entrega_tb_pedido1_idx` (`tb_pedido_idpedido` ASC) VISIBLE,
  CONSTRAINT `fk_tb_entrega_tb_pedido1`
    FOREIGN KEY (`tb_pedido_idpedido`)
    REFERENCES `acai`.`tb_pedido` (`idpedido`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `acai`.`tb_itens_pedido`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acai`.`tb_itens_pedido` (
  `tb_produto_idproduto` INT NOT NULL,
  `tb_pedido_idpedido` INT NOT NULL,
  PRIMARY KEY (`tb_produto_idproduto`, `tb_pedido_idpedido`),
  INDEX `fk_tb_produto_has_tb_pedido_tb_pedido1_idx` (`tb_pedido_idpedido` ASC) VISIBLE,
  INDEX `fk_tb_produto_has_tb_pedido_tb_produto1_idx` (`tb_produto_idproduto` ASC) VISIBLE,
  CONSTRAINT `fk_tb_produto_has_tb_pedido_tb_produto1`
    FOREIGN KEY (`tb_produto_idproduto`)
    REFERENCES `acai`.`tb_produto` (`idproduto`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tb_produto_has_tb_pedido_tb_pedido1`
    FOREIGN KEY (`tb_pedido_idpedido`)
    REFERENCES `acai`.`tb_pedido` (`idpedido`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;


--------------- INSERTS ------------------

--------------- TB USUARIO ---------------
INSERT INTO tb_usuario (idusuario, nome, email, senha, tipo)
VALUES 
(1, 'Ana Silva', 'ana.silva@email.com', '123', 'C'),
(2, 'Carlos Souza', 'carlos.souza@email.com', '156', 'A'),
(3, 'Marina Lima', 'marina.lima@email.com', '123', 'C'),
(4, 'João Mendes', 'joao.mendes@email.com', '789', 'A'),
(5, 'Luciana Costa', 'luciana.costa@email.com', '3467', 'C');


--------------- TB ATENDENTE ---------------
INSERT INTO tb_atendente (idatendente, idade, horario_chegada, horario_saida, descricao, tb_usuario_idusuario)
VALUES
(1, '25', '08:00:00', '16:00:00', 'Atendente com experiência em atendimento ao cliente.', 1),
(2, '30', '09:00:00', '17:00:00', 'Especialista em pedidos e organização de entregas.', 2),
(3, '28', '10:00:00', '18:00:00', 'Responsável por suporte técnico aos clientes.', 3),
(4, '35', '07:00:00', '15:00:00', 'Supervisor da equipe de atendimento.', 4),
(5, '22', '11:00:00', '19:00:00', 'Novo atendente em treinamento.', 5);

--------------- TB CLIENTE ---------------
INSERT INTO tb_cliente (idcliente, cpf, endereco, pontos, tb_usuario_idusuario)
VALUES
(1, '123.456.789-00', 'Rua das Flores, 100', 120, 1),
(2, '987.654.321-00', 'Av. Brasil, 200', 90, 3),
(3, '111.222.333-44', 'Rua A, 50', 45, 2),
(4, '555.666.777-88', 'Rua B, 77', 60, 4),
(5, '999.888.777-66', 'Travessa Central, 10', 150, 5);


--------------- TB ENDERECO ---------------
INSERT INTO tb_endereco (idendereco, endereco, bairro, cidade, tb_cliente_idcliente)
VALUES
(1, 'Rua das Flores, 100', 'Jardim Primavera', 'São Paulo', 1),
(2, 'Av. Brasil, 200', 'Centro', 'Rio de Janeiro', 2),
(3, 'Rua A, 50', 'Bela Vista', 'Belo Horizonte', 3),
(4, 'Rua B, 77', 'Santa Cecília', 'Porto Alegre', 4),
(5, 'Travessa Central, 10', 'Vila Nova', 'Curitiba', 5);


--------------- TB PEDIDO ---------------
INSERT INTO tb_pedido (
  idpedido, observacao, horario_inicio, horario_final, status, valor_p, 
  taxa_entrega, data, nota_atendente, tb_endereco_idendereco, 
  tb_atendente_idatendente, tb_cliente_idcliente
) 
VALUES 
(1, 'Sem cebola', '12:00:00', '12:45:00', 'Entregue', 45.50, 5, '2025-06-01 12:00:00', 4.5, 1, 1, 1),
(2, 'Entrega no portão', '13:15:00', '14:00:00', 'Entregue', 32.00, 4, '2025-06-02 13:15:00', 5.0, 2, 2, 2),
(3, 'Cliente pediu sem gelo', '11:30:00', '12:10:00', 'Entregue', 28.90, 3, '2025-06-03 11:30:00', 4.0, 3, 3, 3),
(4, 'Troco para 100', '18:00:00', '18:50:00', 'Saiu para entrega', 60.75, 6, '2025-06-04 18:00:00', 3.5, 4, 4, 4),
(5, 'Entrega rápida', '10:20:00', '11:00:00', 'Entregue', 25.00, 2, '2025-06-05 10:20:00', 4.8, 5, 5, 5);


--------------- TB PRODUTO ---------------
INSERT INTO tb_produto 
(idproduto, nome, tamanho, preco) 
VALUES 
(1, 'Açai', '200 ml', 9.90),
(2, 'Açai', '300 ml', 14.90),
(3, 'Açai', '500 ml', 17.90),
(4, 'Açai', '700 ml', 25.90),
(5, 'Açai', '1 l', 32.90);


--------------- TB PAGAMENTO ---------------
INSERT INTO tb_pagamento (
  idpagamento, forma_p, data_pagamento, valor_total, tb_pedido_idpedido
) 
VALUES 
(1, 'Cartão de Crédito', '2025-06-11', 10.00, 1),
(2, 'Dinheiro', '2025-06-15', 100.00, 2),
(3, 'Pix', '2025-06-01', 310.00, 3),
(4, 'Cartão de Débito', '2025-08-01', 106.00, 4),
(5, 'Cartão de Crédito', '2025-09-01', 104.00, 5);


--------------- TB ENTREGA ---------------
INSERT INTO tb_entrega (
  identrega, data_entrega, horario_entrega, localizacao, nota_entrega, tb_pedido_idpedido
) VALUES 
(1, '2025-06-01', '12:00:00', 'sla, rua tal', 5.0, 1), 
(2, '2025-06-01', '12:00:00', 'sla, rua tal', 5.0, 2), 
(3, '2025-06-01', '12:00:00', 'sla, rua tal', 5.0, 3), 
(4, '2025-06-01', '12:00:00', 'sla, rua tal', 5.0, 4), 
(5, '2025-06-01', '12:00:00', 'sla, rua tal', 5.0, 5);


--------------- TB ITENS PEDIDO ---------------
INSERT INTO tb_itens_pedido (tb_produto_idproduto, tb_pedido_idpedido)
VALUES 
(1, 1),
(2, 1),
(3, 2),
(1, 3),
(4, 3);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
